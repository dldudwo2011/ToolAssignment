@page
@model ylee39BAIS3150CodeSample.Pages.StudentProgram.FindProgramModel
@{
    ViewData["Title"] = "Find Program";
}
<!DOCTYPE html><html>
<head>
    <meta charset="utf-8"/>
    <title>Find Program</title>
    <script src="~/lib/jquery/jquery.js"></script>
    <script src="~/lib/jquery-validation/jquery.validate.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobstrusive.js"></script>
</head>
<body>
    <h2>Find Program</h2>
<form method="post" id="findProgramForm">
    <div>
        <label asp-for="ProgramCode"></label>
        <input asp-for="ProgramCode" />
        <span asp-validation-for="ProgramCode" class="text-danger"></span>
    </div>
    <button type="submit">Find</button>
</form>

@if (Model.Program != null)
{
    <div>
        <h3>Program Details</h3>
        <p>Code: @Model.Program.ProgramCode</p>
        <p>Description: @Model.Program.Description</p>

        <h4>Enrolled Students</h4>
        @if (Model.EnrolledStudents != null && Model.EnrolledStudents.Count > 0)
        {
            <table>
                <thead>
                    <tr>
                        <th>Student ID</th>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Email</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var student in Model.EnrolledStudents)
                    {
                        <tr>
                            <td>@student.StudentID</td>
                            <td>@student.FirstName</td>
                            <td>@student.LastName</td>
                            <td>@student.Email</td>
                        </tr>
                    }
                </tbody>
            </table>
        }
        else
        {
            <p>No students are enrolled in this program.</p>
        }
    </div>
}
</body>
</html>
